<ion-header [translucent]="true" class="header-glass">
  <ion-toolbar color="primary" class="toolbar-premium">
    <div class="toolbar-container">
      <div class="brand" (click)="irPara('')">
        <img src="assets/img/logo.jpeg" alt="N.D Connect" class="brand-logo">
      </div>

      <nav class="nav-menu">
        <a (click)="irPara('')" class="nav-link" [class.active]="router.url === '' || router.url === '/'">Início</a>
        <a (click)="irPara('/sobre')" class="nav-link" [class.active]="router.url === '/sobre'">Sobre</a>
        <a (click)="irPara('/produtos-catalogo')" class="nav-link" [class.active]="router.url === '/produtos-catalogo'">Produtos</a>
        <a (click)="irPara('/portfolio')" class="nav-link" [class.active]="router.url === '/portfolio'">Portfólio</a>
        <a (click)="irPara('/contato')" class="nav-link" [class.active]="router.url === '/contato'">Contato</a>



        <ion-button (click)="irPara('/solicitar-orcamento')" class="cta-header">
          Solicitar Orçamento
        </ion-button>
      </nav>

      <ion-button class="menu-toggle" fill="clear" (click)="toggleMenu()">
        <ion-icon name="menu"></ion-icon>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu" [class.active]="menuOpen">
  <div class="mobile-menu-header">
    <h3>Menu</h3>
    <ion-button fill="clear" (click)="toggleMenu()">
      <ion-icon name="close"></ion-icon>
    </ion-button>
  </div>
  <nav class="mobile-nav">
    <a (click)="irPara('')">Início</a>
    <a (click)="irPara('/sobre')">Sobre</a>
    <a (click)="irPara('/produtos-catalogo')">Produtos</a>
    <a (click)="irPara('/portfolio')">Portfólio</a>
    <a (click)="irPara('/contato')">Contato</a>

    <!-- Menu do usuário mobile -->
    <div class="mobile-user" *ngIf="isLoggedIn">
      <div class="mobile-user-info">
        <p class="mobile-user-name">{{ usuario?.nome }}</p>
        <p class="mobile-user-level">{{ getNivelDisplay(usuario?.nivel_acesso) }}</p>
      </div>
      <a (click)="irPara('/painel')" class="mobile-nav-item">
        <ion-icon name="home" slot="start"></ion-icon>
        Painel
      </a>
      <a (click)="irPara('/orcamento')" class="mobile-nav-item" *ngIf="canAccess('orcamento')">
        <ion-icon name="document-text" slot="start"></ion-icon>
        Orçamentos
      </a>
      <a (click)="irPara('/produtos')" class="mobile-nav-item" *ngIf="canAccess('produtos')">
        <ion-icon name="cube" slot="start"></ion-icon>
        Produtos
      </a>
      <a (click)="logout()" class="mobile-nav-item logout">
        <ion-icon name="log-out" slot="start"></ion-icon>
        Sair
      </a>
    </div>

    <ion-button expand="block" (click)="irPara('/solicitar-orcamento')">
      Solicitar Orçamento
    </ion-button>
  </nav>
</div>
